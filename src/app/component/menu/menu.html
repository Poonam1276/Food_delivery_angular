<!-- <app-navbar></app-navbar>
<app-search-bar [pinCode]="pinCode" (searchEvent) ="onSearchUpdated($event)"></app-search-bar>
<div class="container mt-4">
<div class="row">
<div class="col-md-4 mb-4" *ngFor="let item of filteredItems">
<div class="card h-100 shadow-sm"> -->
<!-- <img [src]="item.foodImage" class="card-img-top" alt="{{item.name}}" height="200"> -->
<!-- <img
  [src]="getImageUrl(item.foodImage)"
  class="card-img-top"
  alt="{{ item.name }}"
  height="200"
  (click)="openImage(getImageUrl(item.foodImage))"
 
  style="cursor: pointer;"
/>

<div class="card-body">
<h5 class="card-title">{{item.name}}</h5>
<p class="card-text">{{item.description}}</p>
<p class="card-subtitle text-muted ">{{item.restaurantName}}</p>
<p class="card-text"><strong>₹ {{item.price}}</strong></p>
<button class="btn w-100 text-white" style="background:#f57c00;" (click)="addToCart(item)">Add to Cart</button>
</div>
</div>
</div>
</div>
</div>

<div class="toast-container position-fixed bottom-0 end-0 p-3" style="z-index: 1055">
  <div
    class="toast align-items-center text-white bg-success border-0"
    role="alert"
    aria-live="assertive"
    aria-atomic="true"
    [class.show]="showToast"
  >
    <div class="d-flex">
      <div class="toast-body">
        {{ toastMessage }}
      </div>
      <button
        type="button"
        class="btn-close btn-close-white me-2 m-auto"

(click)="showToast = false"
        aria-label="Close"
      ></button>
    </div>
  </div>
</div>

 -->
<app-navbar></app-navbar>
<app-search-bar [pinCode]="pinCode" (searchEvent)="onSearchUpdated($event)"></app-search-bar>
<div class="container mt-4">
  <div class="row">
    <div class="col-md-4 mb-4" *ngFor="let item of filteredItems">
      <div class="card h-100 shadow-sm">
        <img [src]="getImageUrl(item.foodImage)" class="card-img-top" alt="{{ item.name }}" height="200"
          (click)="openImage(getImageUrl(item.foodImage))" [ngStyle]="{ 
        'filter': item.isAvailable ? 'none' : 'grayscale(100%)',
        'cursor': 'pointer' 
      }" />

        <div class="card-body">
          <h5 class="card-title">{{ item.name }}</h5>
          <p class="card-text">{{ item.description }}</p>
          <p class="card-subtitle text-muted">{{ item.restaurantName }}</p>
          <p class="card-text"><strong>₹ {{ item.price }}</strong></p>

          <button *ngIf="item.isAvailable; else notifyTemplate" class="btn w-100 text-white" style="background:#f57c00;"
            (click)="addToCart(item)">
            Add to Cart
          </button>

          <ng-template #notifyTemplate>
            <button class="btn w-100 btn-secondary" (click)="notifyMe(item)" >
              Notify Me
            </button>
          </ng-template>
        </div>
      </div>
    </div>
  </div>
</div>